# .htaccess - Carpeta de uploads
# Permite descargas pero NO ejecuci贸n de c贸digo

# Deshabilitar listado de directorios
Options -Indexes

# Deshabilitar ejecuci贸n de PHP
php_flag engine off

# Bloquear ejecuci贸n de scripts
<FilesMatch "\.(php|php3|php4|php5|phtml|pl|py|jsp|asp|sh|cgi)$">
    Require all denied
</FilesMatch>

# Permitir solo ciertos tipos de archivo
<FilesMatch "\.(pdf|json|jpg|jpeg|png|gif|doc|docx|xls|xlsx)$">
    Require all granted
</FilesMatch>

# Headers de seguridad para descargas
<IfModule mod_headers.c>
    Header set X-Content-Type-Options "nosniff"
    Header set Content-Disposition "attachment"
</IfModule>

# No cachear archivos sensibles
<FilesMatch "\.(json)$">
    Header set Cache-Control "no-store, no-cache, must-revalidate, max-age=0"
    Header set Pragma "no-cache"
</FilesMatch>